---
tinySpec: v0
title: Oneshot
applications:
  -
---

# Background

Tinyspec specs can define a complete product when used together sequentially. Currently, users must manually invoke `/tinyspec:work` for each spec one at a time. A "oneshot" mode would let users either execute all pending specs in sequence, or generate a full set of specs from a high-level prompt and then execute them — with minimal user intervention.

# Proposal

A new Claude Code skill `/tinyspec:oneshot` that operates in two modes:

## Mode 1: Execute existing specs (no prompt argument)

1. Run `tinyspec status` to identify incomplete specs (skip fully-checked specs).
1. Execute each incomplete spec sequentially (earliest first) using the same flow as tinyspec-work.
1. Self-answer questions where possible, only deferring to the user when absolutely necessary.
1. On task failure, present the user with options: **Stop**, **Skip**, or **Retry**.

## Mode 2: Generate from prompt (with prompt argument)

1. Parse the user's prompt to identify product features and requirements.
1. Generate a series of spec files using `tinyspec new`, ordered logically.
1. Auto-refine each spec — populate Background, Proposal, Implementation Plan, and Test Plan.
1. Present all generated specs to the user for approval before execution.
1. Once approved, execute all specs sequentially as in Mode 1.

# Implementation Plan

- [x] A: Create the tinyspec-oneshot skill with Mode 1 (execute existing specs)
  - [x] A.1: Create `.claude/skills/tinyspec-oneshot/SKILL.md` with front matter and Mode 1 instructions
  - [x] A.2: Add autonomous decision-making guidance — self-resolve ambiguity, only defer to the user when truly necessary
  - [x] A.3: Add error handling — on failure, use `AskUserQuestion` with Stop / Skip / Retry options
- [ ] B: Add Mode 2 (generate from prompt)
  - [ ] B.1: Add prompt-parsing and spec creation instructions — use `tinyspec new` for each feature
  - [ ] B.2: Add auto-refine instructions — populate each spec with Background, Proposal, Implementation Plan, and Test Plan
  - [ ] B.3: Add approval gate — present all generated specs to user before execution
- [ ] C: Test the skill
  - [ ] C.1: Run `tinyspec init` to ensure the new skill is registered
  - [ ] C.2: Verify Mode 1 by invoking `/tinyspec:oneshot` with existing incomplete specs
  - [ ] C.3: Verify Mode 2 by invoking `/tinyspec:oneshot` with a sample prompt

# Test Plan
