---
tinySpec: v0
title: Dashboard
---

# Background

The existing `tinyspec status` command prints a plain-text summary of task completion per spec. It runs once and exits — there's no way to monitor progress in real time, see an at-a-glance overview across all specs and feature groups, or drill into a spec's implementation plan without running a separate command.

# Proposal

Add a new `tinyspec dashboard` subcommand that launches a terminal UI (TUI) built with ratatui. The dashboard:

- **Watches `.specs/` in real time** using the `notify` crate, automatically refreshing when specs are created, modified, or deleted.
- **Lists all specs** sorted by status (in-progress first, then pending, then completed), then grouped by feature group. Each group shows an aggregate completion bar.
- **Shows per-spec progress** with a visual progress bar and `checked/total` fraction.
- **Supports keyboard navigation** — arrow keys to move between specs, Enter to open a detail pane showing the spec's Implementation Plan as a tree (task groups → subtasks with check/uncheck status), Esc to go back, `q` to quit.

# Implementation Plan

- [x] A: Add TUI dependencies
  - [x] A.1: Add `ratatui`, `crossterm`, and `notify` crates to `Cargo.toml`
  - [x] A.2: Add a `tui` feature flag (optional — keeps the base binary lean if desired)
- [x] B: Extract spec data model for dashboard consumption
  - [x] B.1: Create a `SpecSummary` struct (name, group, total tasks, checked tasks, status enum, task tree)
  - [x] B.2: Refactor the existing task-counting logic in `status` to build and return `SpecSummary` values
  - [x] B.3: Add a function to load all specs into a `Vec<SpecSummary>` sorted by status then group
- [x] C: File watcher
  - [x] C.1: Set up `notify` to recursively watch `.specs/` for create/modify/delete events
  - [x] C.2: On change, re-load affected spec(s) and update the in-memory spec list
- [x] D: Dashboard TUI — main list view
  - [x] D.1: Set up ratatui app scaffold (terminal init, main loop, cleanup on exit)
  - [x] D.2: Render the spec list with columns: status icon, spec name, group, progress bar, checked/total
  - [x] D.3: Render group headers with aggregate completion percentage
  - [x] D.4: Highlight the currently selected row; handle Up/Down/j/k navigation
- [x] E: Dashboard TUI — detail pane
  - [x] E.1: On Enter, switch to a detail view for the selected spec
  - [x] E.2: Render the Implementation Plan as a collapsible tree (task groups → subtasks, with checkbox status)
  - [x] E.3: Handle Esc to return to the list view
- [x] F: Wire up the CLI subcommand
  - [x] F.1: Add `Dashboard` variant to the `Commands` enum in `main.rs`
  - [x] F.2: Call the TUI entry point from the match arm
- [x] G: Tests
  - [x] G.1: Unit tests for `SpecSummary` loading and sorting logic
  - [x] G.2: Integration test that `tinyspec dashboard` launches and exits cleanly on `q` keypress
- [x] H: Polish list and detail view ordering
  - [x] H.1: Add "In Progress" and "Completed" section headings in the main list view with a visual gap between them; incomplete specs (in-progress + pending) under "In Progress", fully done specs under "Completed"
  - [x] H.2: Allow groups to appear in both sections (a group with mixed-status specs shows its header under both "In Progress" and "Completed")
  - [x] H.3: Display the full timestamp (`YYYY-MM-DD HH:MM`) to the left of each spec row in the main list
  - [x] H.4: Within each group (and within ungrouped specs), order "In Progress" specs by timestamp oldest to newest and "Completed" specs by timestamp newest to oldest
  - [x] H.5: In the detail view, show unchecked tasks first, then a visual gap, then checked tasks

# Test Plan
