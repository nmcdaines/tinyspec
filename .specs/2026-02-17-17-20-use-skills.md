---
tinySpec: v0
title: Use Skills
---

# Background

Presently tinyspec is configured to use claude commands that have been deprecated by skills. The `init` command creates skill files in `.claude/commands/` with colon-separated names (e.g., `tinyspec:refine.md`). Colons are invalid in Windows filenames, which is why the Windows build target was disabled.

Claude Code now supports a dedicated skills directory (`.claude/skills/<skill-name>/SKILL.md`) with directory-based naming that only allows lowercase letters, numbers, and hyphens.

# Proposal

Migrate the `init` command from the legacy `.claude/commands/` structure to the new `.claude/skills/` directory structure using hyphen-separated names (e.g., `tinyspec-refine`). When `--force` is used, automatically remove legacy `tinyspec*.md` files from `.claude/commands/`. Once filenames are Windows-compatible, re-enable the Windows build target in CI.

# Implementation Plan

- [x] A: Migrate `init()` from commands to skills directory structure
  - [x] A.1: Update `init()` to create `.claude/skills/tinyspec-refine/SKILL.md`, `.claude/skills/tinyspec-work/SKILL.md`, `.claude/skills/tinyspec-task/SKILL.md` instead of `.claude/commands/tinyspec:*.md`
  - [x] A.2: Update output messages to reflect new paths (e.g., `Created tinyspec-refine/SKILL.md`)
  - [x] A.3: When `--force` is used, auto-remove legacy `.claude/commands/tinyspec*.md` files and print what was removed
- [x] B: Update integration tests
  - [x] B.1: Update T.11 to verify skills are created at `.claude/skills/<name>/SKILL.md`
  - [x] B.2: Update T.12 to verify skip behavior with new paths
  - [x] B.3: Update T.27 to verify skill content at new paths
  - [x] B.4: Add a new test for legacy command file removal when `--force` is used
- [x] C: Re-enable Windows build
  - [x] C.1: Uncomment the Windows build target in `.github/workflows/release.yml`
- [x] D: Migrate this project's own skill files
  - [x] D.1: Move `.claude/commands/tinyspec:*.md` to `.claude/skills/tinyspec-*/SKILL.md`
  - [x] D.2: Remove the now-empty `.claude/commands/` directory

# Test Plan

- [x] T.1: Given a fresh project, when `tinyspec init` is run, then skill directories and `SKILL.md` files are created under `.claude/skills/`
- [x] T.2: Given an existing skill, when `tinyspec init` is run without `--force`, then the existing skill is skipped
- [x] T.3: Given legacy `.claude/commands/tinyspec*.md` files, when `tinyspec init --force` is run, then the old files are removed and new skills are created
- [x] T.4: Given the new skill files, when the binary is built for `x86_64-pc-windows-msvc`, then the build succeeds (validated by CI)
